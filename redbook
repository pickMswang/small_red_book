项目名称：小红书
***
项目功能：
用户在小红书主页可以看到大家分享的生活经验，或者推荐的产品等形式可以是文字，图片或者产品的连接 如果觉得分享的好可以加关注并且和关注的人聊天，用户也可以发布自己的小红书作品。
***
功能分析：
a.注册功能：
首先在协议包中添加注册请求和注册回复协议，并定义注册请求，注册回复的结构体。然后客户端在qt注册界面输入账户和密码后点击注册按钮，通过中介者调用网络的发送函数把账户的密码发送给客户端，客户端接收到数据把他交给中介者的处理函数，中介者根据协议的类型判断是注册请求，执行注册请求函数，把账号和密码添加的数据库中（如果账户存在添加失败），并发送一个注册回复，客户端接收到，交给中介者处理函数，中介者判断是注册回复，执行注册回复函数，显示一个MessageBox 提示注册成功或失败。
b.登录功能：
  首先在协议包中添加登录请求和登录回复协议，并定义登录请求，登录回复的结构体。然后客户端在qt注册界面输入账户和密码后点击登录按钮，通过中介者调用网络的发送函数把账户的密码发送给客户端，客户端接收到数据把他交给中介者的处理函数，中介者根据协议的类型判断是登录请求，执行登录请求函数，查找数据库中的数据和发过来的账号密码进行比较，并发送一个登录回复，客户端接收到，交给中介者处理函数，中介者判断是登录回复，执行登录回复函数，显示一个MessageBox 提示登录成功或失败。
c.发布功能：
定义协议：发布请求包  发布回复包
客户端 点击选择图片按钮，从本地的文件夹中获取一张图片，并显示在qt的标签上，点击发布 通过中介者调用网络的发送函数把图片以char*的形式发送过去，服务器TCPNet检测到有数据传输交给中介者的处理函数，中介者的处理函数，根据协议类型知道是发布图片请求，执行发布请求函数， 将图片保存到指定的文件夹下，并将路径保存到笔记数据库中，并给客户端回复，客户端接收到，交给中介者处理函数，中介者判断是发布回复，执行发布回复函数，显示一个MessageBox 提示发布成功或失败，并把标签上的图片清空，在我的界面笔记下加一个已发布的作品的路径。没实现
c.聊天功能：没实现

d.主页显示（刷新功能）：没实现

e.点关注：没实现
***
项目设计：
        服务器在linux下实现，客户端用的qt做界面，传输数据采用的TCP，采用中介者设计模式，服务器的代码用makefile管理，

***
项目框架：
        不知道项目框架是什么？
***
数据库设计：
       创建了用户，笔记，关注，上线，粉丝五张表
用户表
create table client 
(
account varchar(11) not null primary key,
password varchar(8) not null,
care int(11) not null default 0, 
fans int(11) not null default 0,
)
笔记表
create table note
(
ID varchar(5) not null primary key, 
account varchar(11) not null,
pass varchar(11) null
)
上线表
create table online
(
IP varchar(16) not null primary key,
account varchar(11) not null
)
粉丝表
create table fan
(
fanaccount varchar(11) null primary key,
fanIP varchar(16) null,
account varchar(11) not null
)
关注表
create table care
(
careaccount varchar(11) null primary key,
careIP varchar(16) null,
account varchar(11) not null
)
***
功能实现：
        注册，登录功能已经实现
***
项目测试：
        没有进行高并发测试
***
追加亮点：
      目前 ：服务器采用epoll+线程池，

***

项目总结：
小红书项目实现过程中遇到的问题
1.搭建框架时： 因为之前没有接触过qt，很多地方不知道应该用什么控件，上网上查阅资料和看了视频以后，才开始操作，布局的时候又花了很长的时间，最后布局布的也不是很好，不知道布局到底有什么用？
     如何点击标签控件label弹出一个对话框 ？-------添加了事件
     如何点击tableview 上的一行弹出一个对话框？--------获取鼠标事件
           
2.连接数据库时：在Linux下安装数据库，想了一晚上整跑偏了Ubuntu下已经有它自带的数据库了因为当时不知道，以为还要像window那样，在网上下载，配置，最后三个命令就安装好了数据库
3.在qt上搭建客户端并完成注册登录时：因为服务器在Linux下客户端在window下，connect不成功，现在Linux采用了桥接的方法  客户端和服务器终于能连接上了，（因为要让Linux的IP暴露出来才能和别的客户端电脑通信），但是虚拟器采用桥接以后上不了网，最后发现用热点就能连上网，用校园网就不可以，配置的没有问题，可能是校园网不给钱不让上网。。。
在注册登录接收数据时 采用多线程，qt中的多线程和有自己的类和window不太一样。
4.项目的服务器在linux下想到了用epoll来实现高并发，但是epoll既做了连接判断是否有数据可读可写，还做了实际有任务到来具体的工作任务，这样的话只用一个线程来完成效率可能很低，所以想到用多线程，但是为了更好的管理线程就想到了用epoll+线程池发现，而且epoll有一个缺陷，就是epoll_wait 是轮询工作的，如果发现有数据可读就处理该任务，如果任务阻塞的话，就不能轮到下一个了，这样把工作任务和epoll的任务分开来做，提高了效率。

5.在线程池添加的时候，由于一些c++的编译语法错误又花费了很长时间找错。 
6.传图片并显示： 发现建立的一张数据库的表是不行的，又重新设计了数据库中的表。 
***
终于可以更新进度了哈哈哈哈哈。。。。。
***
7.传过去的图片无法打开/服务器用epoll+线程池以后密码显示不出来， 这个问题真的困惑了我好久，做了各种测试，终于找的了错误的原因：
那就是在拷贝字符串的时候，不能用sprintf，strncpy  要用内存拷贝函数 memcpy（目的，源，大小） memcpy函数的功能是从源src所指的内存地址的起始位置开始拷贝n个字节到目标dest所指的内存地址的起始位置中。
这样才不会出错。
  


